// @timestamp thenkey 2023-12-11 19:50:46
const e="undefined"!=typeof $loon;let t=!0,s=!0,n=!0;e&&(n="开启"===$persistentStore.read("去除轮播图广告"),t="开启"===$persistentStore.read("去除整个轮播图"),s="开启"===$persistentStore.read("去除置顶"));let a=[1e4],d=JSON.parse($response.body);if(d?.data?.list){if(n&&!t)for(const e of d.data.list)if(10002===e.feedType){e.feedContent.focusNewsData=e.feedContent.focusNewsData.filter((e=>!1===e.isAd));break}t&&a.push(10002),s&&a.push(10003),d.data.list=d.data.list.filter((e=>!a.includes(e.feedType)||null===e.feedContent.smallTags[0]?.text||!e.feedContent.smallTags[0]?.text.includes("广告")))}$done({body:JSON.stringify(d)});