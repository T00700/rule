// @timestamp thenkey 2023-12-11 20:14:07
const e="undefined"!=typeof $loon;let t=!0,s=!0,a=!0;e&&(a="开启"===$persistentStore.read("去除轮播图广告"),t="开启"===$persistentStore.read("去除整个轮播图"),s="开启"===$persistentStore.read("去除置顶"));let d=[1e4],n=JSON.parse($response.body);if(n?.data?.list){if(a&&!t)for(const e of n.data.list)if(10002===e.feedType){e.feedContent.focusNewsData=e.feedContent.focusNewsData.filter((e=>!1===e.isAd));break}t&&d.push(10002),s&&d.push(10003),n.data.list=n.data.list.filter((e=>!d.includes(e.feedType)||e.feedContent.smallTags&&!e.feedContent.smallTags[0].text.includes("广告")))}$done({body:JSON.stringify(n)});